n=len(expression)
stack,res,cur=[],[],[]
for i in range(n):
	v=expression[i]
	if v.isalpha():
		if cur:
			cur=[c+v for c in cur]
		else:
			cur=[v]
	elif v=="{":
		stack.append(res)
		stack.append(cur)
		res,cur=[],[]
	elif v=="}":
		pre=stack.pop()
		preres=stack.pop()	
		if pre:
			cur=[p+c for c in res+cur for p in pre]
		else:
			cur=[c for c in res+cur]
		res=preres
	elif v==",":
		res+=cur
		cur=[]
return sorted(set(res+cur))